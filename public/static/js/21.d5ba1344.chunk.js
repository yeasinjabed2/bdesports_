(this.webpackJsonpbdesports=this.webpackJsonpbdesports||[]).push([[21],{308:function(e,t,s){"use strict";s.r(t);var a,r,n=s(3),o=s(2),i=s(16),c=s.n(i),d=s(1),m=s(108),p=s(4),l=s(12),b=s(90),u=s(91),j=window.screen.width<600,x=u.a.div(a||(a=Object(b.a)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"]))),g=u.a.form(r||(r=Object(b.a)(["\n  width: ",";\n  margin: 0 auto;\n  background-color: #3d3c40;\n  padding: ",";\n  padding-top: 20px;\n  padding-bottom: 30px;\n  border-radius: 5px;\n"])),j?"320px":"400px",j?"22px":"35px"),h=s(6),w=s(21),O=s(0);t.default=function(){var e=Object(m.a)(),t=e.register,s=e.handleSubmit,a=e.formState.errors,r=e.watch,i=Object(d.useRef)({});i.current=r("password","");var b=Object(d.useContext)(h.a).isAuth,u=Object(d.useContext)(w.a).setSuccessRegMsg,j=Object(d.useState)(""),f=Object(o.a)(j,2),N=f[0],v=f[1],y=Object(d.useState)(!1),P=Object(o.a)(y,2),C=P[0],q=P[1],S=Object(p.g)();return Object(d.useEffect)((function(){b()&&S.push("/")}),[S,b]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(x,{children:Object(O.jsxs)(g,{onSubmit:s((function(e){q(!0),c.a.post("".concat("https://bdesports.yeasinjabed.dev","/api/auth/register"),{email:e.email,password:e.password}).then((function(e){e.data&&(S.push("/login"),q(!1),u(!0))})).catch((function(e){e.response&&(v(e.response.data.msg),q(!1))}))})),children:[Object(O.jsx)("h5",{className:"text-center text-white py-3",children:"Register"}),Object(O.jsxs)("div",{className:a.email||N?"input-group mt-3 mb-1 border border-danger":"input-group mt-3 mb-1",children:[Object(O.jsx)("span",{className:a.email||N?"input-group-text text-white bg-danger":"input-group-text",id:"basic-addon1",children:"@"}),Object(O.jsx)("input",Object(n.a)(Object(n.a)({type:"text",className:a.email?"form-control text-danger":"form-control form-body-input",placeholder:"Email address"},t("email",{required:"Email is required !",pattern:{value:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Invalid email address !"}})),{},{onChange:function(e){v("")},autoFocus:!0}))]}),(a.email||N)&&Object(O.jsx)("small",{className:"text-danger",children:a.email&&a.email.message||N&&N}),Object(O.jsxs)("div",{className:a.password?"input-group mt-3 mb-1 border border-danger":"input-group mt-3 mb-1",children:[Object(O.jsx)("span",{className:a.password?"input-group-text text-white bg-danger":"input-group-text",id:"basic-addon1",children:Object(O.jsx)("i",{className:"bi bi-key"})}),Object(O.jsx)("input",Object(n.a)({type:"password",name:"password",className:a.password?"form-control text-danger":"form-control form-body-input",placeholder:"Password",autoComplete:"true"},t("password",{required:"Password is required!",minLength:{value:6,message:"Password must be 6 characters long !"}})))]}),a.password&&Object(O.jsx)("small",{className:"text-danger",children:a.password.message}),Object(O.jsxs)("div",{className:a.confirmPassword?"input-group mt-3 mb-1 border border-danger":"input-group mt-3 mb-1",children:[Object(O.jsx)("span",{className:a.confirmPassword?"input-group-text text-white bg-danger":"input-group-text",id:"basic-addon1",children:Object(O.jsx)("i",{className:"bi bi-key"})}),Object(O.jsx)("input",Object(n.a)({type:"password",name:"confirmPassword",className:a.confirmPassword?"form-control text-danger":"form-control form-body-input",placeholder:"Confirm password",autoComplete:"true"},t("confirmPassword",{required:"Confirm password is required !",validate:function(e){return e===i.current||"The password do not match !"}})))]}),a.confirmPassword&&Object(O.jsx)("small",{className:"text-danger",children:a.confirmPassword.message}),Object(O.jsx)("button",{className:"btn btn-primary w-100 mt-4 form-body-btn",children:C?Object(O.jsx)("div",{className:"spinner-border spinner-border-sm text-white",role:"status"}):"Register"}),Object(O.jsx)("div",{className:"label-text w-100 text-white text-center pt-4",children:Object(O.jsxs)("small",{children:["Already have an account ?",Object(O.jsx)(l.b,{to:"login",className:"mx-1 color-primary",children:"Login here"})]})})]})})})}}}]);